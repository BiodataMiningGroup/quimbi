<div class="display-view" data-tour="" data-step="tourStep.display" data-post-step="tourNext('display')" data-post-tour="tourClose('display')">
	<div class="display-view__menu">
		<div class="menu__left">
			<form class="mode-switches button-row" data-tourtip="There are display modes other than similarity, too. Editing markers, ranges and regions works the same in all of them but markers and ranges play a slightly different role in each mode." data-tourtip-step="7" data-tourtip-placement="bottom">
				<span data-tourtip="You already know the default display mode, 'similarity'. In this mode the markers are essential for the image that is computed and the ranges can narrow down the calculation to specific mass channels." data-tourtip-step="8" data-tourtip-placement="bottom"></span>
				<label for="mode-similarity" class="pure-button" data-ng-class="{'pure-button-active':settings.displayMode==C.DISPLAY_MODE.SIMILARITY}" data-tooltip="Display the similarity of each point to one or more selected positions on the similarity image.">
					<input id="mode-similarity" type="radio" name="display-modes" value="{{C.DISPLAY_MODE.SIMILARITY}}" data-ng-model="settings.displayMode"/>
					similarity
				</label>
				<span data-tourtip="The second is the 'mean' display mode. In this mode there is only a single marker to view the mass spectra of different points on the mean value map. The map itself represents the mean value of the mass channels of all active ranges of interest in the spectrum viewer. Choose this mode, place the marker and select some ranges to see how the map changes." data-tourtip-step="9" data-tourtip-placement="bottom"></span>
				<label for="mode-mean" class="pure-button" data-ng-class="{'pure-button-active':settings.displayMode==C.DISPLAY_MODE.MEAN}" data-tooltip="Display the mean intensities of all points according to one or more selected ranges in the spectrum viewer.">
					<input id="mode-mean" type="radio" name="display-modes" value="{{C.DISPLAY_MODE.MEAN}}" data-ng-model="settings.displayMode"/>
					mean
				</label>
				<span data-tourtip="The third is the 'direct' display mode. In this mode there is also only a single marker to view the mass spectra of different points on the direct display map. The map displays the intensities of the currently hovered mass channel in the spectrum viewer colored by the single selection color-map. The ranges of interest have no function in this display mode and are deactivated. Choose this mode, place the marker and move the mouse over the spectrum viewer to see how the direct display map changes." data-tourtip-step="12" data-tourtip-placement="bottom"></span>
				<label for="mode-direct" class="pure-button" data-ng-class="{'pure-button-active':settings.displayMode==C.DISPLAY_MODE.DIRECT}" data-tooltip="Display the raw channel intensities of the hovered channel in the spectrum viewer.">
					<input id="mode-direct" type="radio" name="display-modes" value="{{C.DISPLAY_MODE.DIRECT}}" data-ng-model="settings.displayMode"/>
					direct
				</label>
			</form>
			<div class="marker-menu" marker-menu="" data-tourtip="These are the selection markers. There are one single selection and three multi selection markers. Each marker is assigned an individual color-map. With the multi selection markers you can produce fusion images with up to three selections. Activate a marker by clicking on the marker icon and remove one of multiple selections by clicking on the '&times;' icon. You can drag selection markers on the similarity map, too." data-tourtip-step="3" data-tourtip-placement="bottom"></div>
		</div>
		<div class="menu__right">
			<span class="menu__right__tourtip" data-tourtip="Finally you can configure the application. Press the list icon to close the sidebar or press the cog icon to switch to the settings view. This concludes the introduction of the main view. Thanks for taking the tour!" data-tourtip-step="13" data-tourtip-placement="left" data-tourtip-next-label="Close"></span>
			<a href="#/settings" class="pure-button" data-tooltip="Settings.">
				<i class="icon-cog"></i>
			</a>
			<button class="pure-button" data-ng-class="{'pure-button-active':settings.showSidebar}" data-ng-click="settings.showSidebar=!settings.showSidebar" data-tooltip="Toggle the regions and ranges sidebar.">
				<i class="icon-th-list"></i>
			</button>
		</div>
	</div>
	<div class="display-view__content" data-ng-class="{'sidebar-open':settings.showSidebar}">
		<span data-tourtip="This is the main view of QUIMBI where the similarity map is displayed. The single selection tool was already activated for you. Now choose a location on the similarity map and click to make a selection." data-tourtip-step="0" data-tourtip-placement="left" data-tourtip-offset="-400"></span>
		<span data-tourtip="What you see now is the similarity map. On the map each point is highlighted according to it's similarity to the point of your selection and colored with respect to the single selection color-map. This way you can explore your dataset to find similar regions. You can zoom and pan the image." data-tourtip-step="1" data-tourtip-placement="left" data-tourtip-offset="-400"></span>
		<span data-tourtip="By combining multiple ranges of interest with different groups, you can create a fusion image of up to three different mean value maps. Each group is assigned to an individual color-map just like the markers in 'similarity' mode." data-tourtip-step="11" data-tourtip-placement="left" data-tourtip-offset="-400"></span>
		<div class="content__main">
			<div class="main__top">
				<div class="canvas-wrapper" data-canvas-wrapper=""></div></span>
				<div class="color-scale" data-color-scale="" data-ng-if="showColorScale()"></div>	
			</div><!--
			--><div class="main__bottom">
				<span data-tourtip="This is the spectrum viewer which displays the mass spectrum of all current selections on the similarity map. You can navigate by scrolling or panning and you can zoom." data-tourtip-step="4" data-tourtip-placement="top"></span>
				<span data-tourtip="By pressing 'Shift', clicking and dragging the mouse over the spectrum, you can select a range of interest. The similarity computation will now be restricted to the mass channels of this region. You can combine multiple ranges, too." data-tourtip-step="5" data-tourtip-placement="top"></span>
				<div data-spectrum-viewer="spectrum" data-spectrum-ranges="spectrumRanges"></div>
			</div>
		</div>
		<div class="content__aside">
			<div class="aside__top">
				<h4>Regions</h4>
				<span data-tourtip="This is the similarity scale. It displays the currently active color map with the colors for maximum similarity on the top. The scale features an indicator to show the similarity of the currently hovered position on the similarity map. For a single selection, it displays a histogram showing the similarity-distribution of all points on the map, as well." data-tourtip-step="2" data-tourtip-placement="left" data-tourtip-offset="200"></span>
				<span data-tourtip="You can select regions of interest on the similarity map, too. Choose either the polygon or the rectangle region selection tool on the left of the similarity map and draw a region. Regions can be de-/activated, edited and deleted similar to the ranges of the spectrum viewer." data-tourtip-step="7" data-tourtip-placement="left" data-tourtip-offset="130"></span>
				<ul class="region-list">
					<li data-region-list-item="region" data-index="$index" data-ng-repeat="region in mapRegions()"></li>
				</ul>
			</div>
			<div class="aside__bottom">
				<h4>Ranges</h4>
				<span data-tourtip="All ranges of interest are listed here in the sidebar. De-/Activate a range and focus it in the spectrum viewer by clicking on the list item. Click on the pencil icon to edit the range's names, as well as start and end positions. Delete a range by clicking on the '&times;' icon." data-tourtip-step="6" data-tourtip-placement="left" data-tourtip-offset="130"></span>
				<span data-tourtip="In the 'mean' display mode, the ranges are grouped similarly to the markers in 'similarity' mode. There are one single selection and three multi selection groups. You can assign the groups by editing the ranges here in the ranges list (you'll notice the extended edit menu of a range in this display mode)." data-tourtip-step="10" data-tourtip-placement="left" data-tourtip-offset="130"></span>
				<ul class="range-list">
					<li data-range-list-item="range" data-index="$index" data-ng-repeat="range in spectrumRanges"></li>
				</ul>
			</div>
		</div>
	</div>	
</div>